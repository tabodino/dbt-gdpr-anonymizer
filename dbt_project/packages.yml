# ============================================
# dbt Packages - GDPR Anonymizer
# ============================================

packages:
  
  # dbt-utils : Essential utility macros
  # Documentation : https://hub.getdbt.com/dbt-labs/dbt_utils/latest/
  - package: dbt-labs/dbt_utils
    version: 1.3.3
  
  # dbt-expectations : Advanced data quality tests
  # Documentation : https://hub.getdbt.com/metaplane/dbt_expectations/latest/
  # Useful for validating business rules and GDPR compliance
  - package: metaplane/dbt_expectations
    version: 0.10.10
  
  # dbt-codegen : Automatic dbt code generation
  # Documentation : https://hub.getdbt.com/dbt-labs/codegen/latest/
  # Useful for rapid scaffolding
  - package: dbt-labs/codegen
    version: 0.14.0

# ============================================
# NOTES
# ============================================
#
# Installing packages: 
#   cd dbt_project && dbt deps
#
# Packages will be installed in:
#   dbt_project/dbt_packages/
#
# Key features used:
#
# From dbt_utils:
# - generate_surrogate_key(): Generate surrogate keys 
# - accepted_range(): Validate value ranges 
# - union_relations(): Union multiple tables 
# - star(): Select columns with exclusions
#
# From dbt_expectations:
# - expect_column_values_to_match_regex(): Validate formats 
# - expect_column_values_to_not_contain_pattern(): Detect PII 
# - expect_column_mean_to_be_between(): Statistical validation
#
# From dbt_codegen:
# - generate_model_yaml(): Generate schema.yml 
# - generate_source(): Generate sources
